"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generate";
exports.ids = ["pages/api/generate"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/generate.ts */ \"(api)/./src/pages/api/generate.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/generate\",\n        pathname: \"/api/generate\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdlbmVyYXRlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZnZW5lcmF0ZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN3RDtBQUN4RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHVEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3VtZS1qb2ItbWF0Y2hlci8/ZDIzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjL3BhZ2VzL2FwaS9nZW5lcmF0ZS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/generate.ts":
/*!***********************************!*\
  !*** ./src/pages/api/generate.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Simple rate limiting\nconst RATE_LIMIT_WINDOW = 60 * 1000; // 1 minute\nconst MAX_REQUESTS_PER_WINDOW = 5;\nconst requestCounts = new Map();\nasync function handler(req, res) {\n    const ip = req.headers[\"x-forwarded-for\"] || req.socket.remoteAddress;\n    const now = Date.now();\n    const userRequests = requestCounts.get(ip) || {\n        count: 0,\n        timestamp: now\n    };\n    if (now - userRequests.timestamp > RATE_LIMIT_WINDOW) {\n        userRequests.count = 0;\n        userRequests.timestamp = now;\n    }\n    if (userRequests.count >= MAX_REQUESTS_PER_WINDOW) {\n        return res.status(429).json({\n            error: \"Too many requests. Please try again later.\"\n        });\n    }\n    userRequests.count++;\n    requestCounts.set(ip, userRequests);\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    if (!process.env.Open_API_Key) {\n        return res.status(500).json({\n            error: \"OpenAI API key not configured\",\n            details: \"Please add your OpenAI API key to the Secrets tool (Tools > Secrets)\"\n        });\n    }\n    const openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        apiKey: process.env.Open_API_Key\n    });\n    try {\n        const { resume, jobDescription, type } = req.body;\n        if (!resume || !jobDescription) {\n            return res.status(400).json({\n                error: \"Resume and job description are required\"\n            });\n        }\n        if (!type || ![\n            \"resume\",\n            \"cover-letter\"\n        ].includes(type)) {\n            return res.status(400).json({\n                error: \"Invalid type specified\"\n            });\n        }\n        const systemPrompt = type === \"resume\" ? `You are an expert ATS-optimization specialist and resume writer with experience in talent acquisition across multiple industries. Your expertise includes keyword optimization, achievement quantification, and maintaining authenticity while maximizing match rates.` : `You are an expert cover letter writer with extensive experience in talent acquisition. Your task is to create a compelling 150-word cover letter that highlights the candidate's relevant experience and demonstrates their fit for the role. The cover letter should be professional, engaging, and tailored to the specific job description.`;\n        const userPrompt = type === \"resume\" ? `Transform the candidate's latest role's bullet pointed resume items to optimize for both ATS systems and human readers while maintaining professional authenticity. Make sure to output in bullet Points then have a sections says Overview of thigs to change in rest of resume, skills etc) Follow these precise guidelines:\n\nSTEP 1: JOB DESCRIPTION ANALYSIS\nExtract core technical requirements and skills\nIdentify key soft skills and leadership requirements\nNote specific metrics, tools, and technologies mentioned\nCapture industry-specific terminology\nIdentify required years of experience and responsibility level\n\nSTEP 2: CURRENT BULLET POINT ANALYSIS\nReview existing achievements and metrics\nIdentify transferable skills and experiences\nNote current action verbs and technical terms\nEvaluate existing quantifiable results\nCheck for leadership and project management elements\n\nSTEP 3: OPTIMIZATION RULES\nStart each bullet with a strong action verb\nInclude exact job description keywords where truthful\nQuantify achievements with specific metrics\nLimit each bullet to 1-2 lines\nUse clear technical terminology without acronyms\n\nSTEP 4: BULLET POINT TRANSFORMATION\nCREATE 5 OPTIMIZED BULLETS THAT:\nLead with high-impact action verbs\nIncorporate job-specific keywords naturally\nInclude measurable results (%, $, time saved)\nDemonstrate scope of responsibility\nShow technical proficiency required by the role\n\nOriginal Resume: \"${resume}\"\nJob Description: \"${jobDescription}\"` : `Create a compelling 150-word cover letter based on the candidate's resume and the job description. The cover letter should:\n1. Open with a strong introduction that shows enthusiasm for the role\n2. Highlight 2-3 most relevant achievements from the resume that match the job requirements\n3. Demonstrate understanding of the company's needs\n4. Close with a clear call to action\n5. Maintain a professional yet engaging tone\n6. Be exactly 150 words\n\nResume: \"${resume}\"\nJob Description: \"${jobDescription}\"`;\n        const completion = await openai.chat.completions.create({\n            model: \"gpt-4\",\n            messages: [\n                {\n                    role: \"system\",\n                    content: systemPrompt\n                },\n                {\n                    role: \"user\",\n                    content: userPrompt\n                }\n            ],\n            temperature: 0.5,\n            max_tokens: 2000\n        });\n        res.setHeader(\"Content-Type\", \"application/json\");\n        res.status(200).json({\n            result: completion.choices[0].message.content\n        });\n    } catch (error) {\n        console.error(\"OpenAI Error:\", error);\n        const errorMessage = error.response?.data?.error?.message || error.message || \"Unknown error\";\n        res.status(500).json({\n            error: \"Failed to generate content\",\n            details: errorMessage\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsT0FBT3ZCLE9BQVk7UUFDbkI4QixRQUFROUIsS0FBSyxDQUFDLGlCQUFpQkE7UUFDL0IsTUFBTStCLGVBQ0ovQixNQUFNZ0MsUUFBUSxFQUFFQyxNQUFNakMsT0FBTzZCLFdBQVc3QixNQUFNNkIsT0FBTyxJQUFJO1FBQzNEMUMsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQkMsT0FBTztZQUNQTSxTQUFTeUI7UUFDWDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN1bWUtam9iLW1hdGNoZXIvLi9zcmMvcGFnZXMvYXBpL2dlbmVyYXRlLnRzP2E4ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgT3BlbkFJIGZyb20gXCJvcGVuYWlcIjtcblxuLy8gU2ltcGxlIHJhdGUgbGltaXRpbmdcbmNvbnN0IFJBVEVfTElNSVRfV0lORE9XID0gNjAgKiAxMDAwOyAvLyAxIG1pbnV0ZVxuY29uc3QgTUFYX1JFUVVFU1RTX1BFUl9XSU5ET1cgPSA1O1xuY29uc3QgcmVxdWVzdENvdW50cyA9IG5ldyBNYXA8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IHRpbWVzdGFtcDogbnVtYmVyIH0+KCk7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlLFxuKSB7XG4gIGNvbnN0IGlwID0gcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcS5zb2NrZXQucmVtb3RlQWRkcmVzcztcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgXG4gIGNvbnN0IHVzZXJSZXF1ZXN0cyA9IHJlcXVlc3RDb3VudHMuZ2V0KGlwIGFzIHN0cmluZykgfHwgeyBjb3VudDogMCwgdGltZXN0YW1wOiBub3cgfTtcbiAgaWYgKG5vdyAtIHVzZXJSZXF1ZXN0cy50aW1lc3RhbXAgPiBSQVRFX0xJTUlUX1dJTkRPVykge1xuICAgIHVzZXJSZXF1ZXN0cy5jb3VudCA9IDA7XG4gICAgdXNlclJlcXVlc3RzLnRpbWVzdGFtcCA9IG5vdztcbiAgfVxuICBcbiAgaWYgKHVzZXJSZXF1ZXN0cy5jb3VudCA+PSBNQVhfUkVRVUVTVFNfUEVSX1dJTkRPVykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQyOSkuanNvbih7IGVycm9yOiBcIlRvbyBtYW55IHJlcXVlc3RzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiIH0pO1xuICB9XG4gIFxuICB1c2VyUmVxdWVzdHMuY291bnQrKztcbiAgcmVxdWVzdENvdW50cy5zZXQoaXAgYXMgc3RyaW5nLCB1c2VyUmVxdWVzdHMpO1xuXG4gIGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiBcIk1ldGhvZCBub3QgYWxsb3dlZFwiIH0pO1xuICB9XG5cbiAgaWYgKCFwcm9jZXNzLmVudi5PcGVuX0FQSV9LZXkpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgZXJyb3I6IFwiT3BlbkFJIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWRcIixcbiAgICAgIGRldGFpbHM6IFwiUGxlYXNlIGFkZCB5b3VyIE9wZW5BSSBBUEkga2V5IHRvIHRoZSBTZWNyZXRzIHRvb2wgKFRvb2xzID4gU2VjcmV0cylcIixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuT3Blbl9BUElfS2V5LFxuICB9KTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgcmVzdW1lLCBqb2JEZXNjcmlwdGlvbiwgdHlwZSB9ID0gcmVxLmJvZHk7XG5cbiAgICBpZiAoIXJlc3VtZSB8fCAham9iRGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiByZXNcbiAgICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAgIC5qc29uKHsgZXJyb3I6IFwiUmVzdW1lIGFuZCBqb2IgZGVzY3JpcHRpb24gYXJlIHJlcXVpcmVkXCIgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF0eXBlIHx8ICFbJ3Jlc3VtZScsICdjb3Zlci1sZXR0ZXInXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiSW52YWxpZCB0eXBlIHNwZWNpZmllZFwiIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IHR5cGUgPT09ICdyZXN1bWUnIFxuICAgICAgPyBgWW91IGFyZSBhbiBleHBlcnQgQVRTLW9wdGltaXphdGlvbiBzcGVjaWFsaXN0IGFuZCByZXN1bWUgd3JpdGVyIHdpdGggZXhwZXJpZW5jZSBpbiB0YWxlbnQgYWNxdWlzaXRpb24gYWNyb3NzIG11bHRpcGxlIGluZHVzdHJpZXMuIFlvdXIgZXhwZXJ0aXNlIGluY2x1ZGVzIGtleXdvcmQgb3B0aW1pemF0aW9uLCBhY2hpZXZlbWVudCBxdWFudGlmaWNhdGlvbiwgYW5kIG1haW50YWluaW5nIGF1dGhlbnRpY2l0eSB3aGlsZSBtYXhpbWl6aW5nIG1hdGNoIHJhdGVzLmBcbiAgICAgIDogYFlvdSBhcmUgYW4gZXhwZXJ0IGNvdmVyIGxldHRlciB3cml0ZXIgd2l0aCBleHRlbnNpdmUgZXhwZXJpZW5jZSBpbiB0YWxlbnQgYWNxdWlzaXRpb24uIFlvdXIgdGFzayBpcyB0byBjcmVhdGUgYSBjb21wZWxsaW5nIDE1MC13b3JkIGNvdmVyIGxldHRlciB0aGF0IGhpZ2hsaWdodHMgdGhlIGNhbmRpZGF0ZSdzIHJlbGV2YW50IGV4cGVyaWVuY2UgYW5kIGRlbW9uc3RyYXRlcyB0aGVpciBmaXQgZm9yIHRoZSByb2xlLiBUaGUgY292ZXIgbGV0dGVyIHNob3VsZCBiZSBwcm9mZXNzaW9uYWwsIGVuZ2FnaW5nLCBhbmQgdGFpbG9yZWQgdG8gdGhlIHNwZWNpZmljIGpvYiBkZXNjcmlwdGlvbi5gO1xuXG4gICAgY29uc3QgdXNlclByb21wdCA9IHR5cGUgPT09ICdyZXN1bWUnXG4gICAgICA/IGBUcmFuc2Zvcm0gdGhlIGNhbmRpZGF0ZSdzIGxhdGVzdCByb2xlJ3MgYnVsbGV0IHBvaW50ZWQgcmVzdW1lIGl0ZW1zIHRvIG9wdGltaXplIGZvciBib3RoIEFUUyBzeXN0ZW1zIGFuZCBodW1hbiByZWFkZXJzIHdoaWxlIG1haW50YWluaW5nIHByb2Zlc3Npb25hbCBhdXRoZW50aWNpdHkuIE1ha2Ugc3VyZSB0byBvdXRwdXQgaW4gYnVsbGV0IFBvaW50cyB0aGVuIGhhdmUgYSBzZWN0aW9ucyBzYXlzIE92ZXJ2aWV3IG9mIHRoaWdzIHRvIGNoYW5nZSBpbiByZXN0IG9mIHJlc3VtZSwgc2tpbGxzIGV0YykgRm9sbG93IHRoZXNlIHByZWNpc2UgZ3VpZGVsaW5lczpcblxuU1RFUCAxOiBKT0IgREVTQ1JJUFRJT04gQU5BTFlTSVNcbkV4dHJhY3QgY29yZSB0ZWNobmljYWwgcmVxdWlyZW1lbnRzIGFuZCBza2lsbHNcbklkZW50aWZ5IGtleSBzb2Z0IHNraWxscyBhbmQgbGVhZGVyc2hpcCByZXF1aXJlbWVudHNcbk5vdGUgc3BlY2lmaWMgbWV0cmljcywgdG9vbHMsIGFuZCB0ZWNobm9sb2dpZXMgbWVudGlvbmVkXG5DYXB0dXJlIGluZHVzdHJ5LXNwZWNpZmljIHRlcm1pbm9sb2d5XG5JZGVudGlmeSByZXF1aXJlZCB5ZWFycyBvZiBleHBlcmllbmNlIGFuZCByZXNwb25zaWJpbGl0eSBsZXZlbFxuXG5TVEVQIDI6IENVUlJFTlQgQlVMTEVUIFBPSU5UIEFOQUxZU0lTXG5SZXZpZXcgZXhpc3RpbmcgYWNoaWV2ZW1lbnRzIGFuZCBtZXRyaWNzXG5JZGVudGlmeSB0cmFuc2ZlcmFibGUgc2tpbGxzIGFuZCBleHBlcmllbmNlc1xuTm90ZSBjdXJyZW50IGFjdGlvbiB2ZXJicyBhbmQgdGVjaG5pY2FsIHRlcm1zXG5FdmFsdWF0ZSBleGlzdGluZyBxdWFudGlmaWFibGUgcmVzdWx0c1xuQ2hlY2sgZm9yIGxlYWRlcnNoaXAgYW5kIHByb2plY3QgbWFuYWdlbWVudCBlbGVtZW50c1xuXG5TVEVQIDM6IE9QVElNSVpBVElPTiBSVUxFU1xuU3RhcnQgZWFjaCBidWxsZXQgd2l0aCBhIHN0cm9uZyBhY3Rpb24gdmVyYlxuSW5jbHVkZSBleGFjdCBqb2IgZGVzY3JpcHRpb24ga2V5d29yZHMgd2hlcmUgdHJ1dGhmdWxcblF1YW50aWZ5IGFjaGlldmVtZW50cyB3aXRoIHNwZWNpZmljIG1ldHJpY3NcbkxpbWl0IGVhY2ggYnVsbGV0IHRvIDEtMiBsaW5lc1xuVXNlIGNsZWFyIHRlY2huaWNhbCB0ZXJtaW5vbG9neSB3aXRob3V0IGFjcm9ueW1zXG5cblNURVAgNDogQlVMTEVUIFBPSU5UIFRSQU5TRk9STUFUSU9OXG5DUkVBVEUgNSBPUFRJTUlaRUQgQlVMTEVUUyBUSEFUOlxuTGVhZCB3aXRoIGhpZ2gtaW1wYWN0IGFjdGlvbiB2ZXJic1xuSW5jb3Jwb3JhdGUgam9iLXNwZWNpZmljIGtleXdvcmRzIG5hdHVyYWxseVxuSW5jbHVkZSBtZWFzdXJhYmxlIHJlc3VsdHMgKCUsICQsIHRpbWUgc2F2ZWQpXG5EZW1vbnN0cmF0ZSBzY29wZSBvZiByZXNwb25zaWJpbGl0eVxuU2hvdyB0ZWNobmljYWwgcHJvZmljaWVuY3kgcmVxdWlyZWQgYnkgdGhlIHJvbGVcblxuT3JpZ2luYWwgUmVzdW1lOiBcIiR7cmVzdW1lfVwiXG5Kb2IgRGVzY3JpcHRpb246IFwiJHtqb2JEZXNjcmlwdGlvbn1cImBcbiAgICAgIDogYENyZWF0ZSBhIGNvbXBlbGxpbmcgMTUwLXdvcmQgY292ZXIgbGV0dGVyIGJhc2VkIG9uIHRoZSBjYW5kaWRhdGUncyByZXN1bWUgYW5kIHRoZSBqb2IgZGVzY3JpcHRpb24uIFRoZSBjb3ZlciBsZXR0ZXIgc2hvdWxkOlxuMS4gT3BlbiB3aXRoIGEgc3Ryb25nIGludHJvZHVjdGlvbiB0aGF0IHNob3dzIGVudGh1c2lhc20gZm9yIHRoZSByb2xlXG4yLiBIaWdobGlnaHQgMi0zIG1vc3QgcmVsZXZhbnQgYWNoaWV2ZW1lbnRzIGZyb20gdGhlIHJlc3VtZSB0aGF0IG1hdGNoIHRoZSBqb2IgcmVxdWlyZW1lbnRzXG4zLiBEZW1vbnN0cmF0ZSB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb21wYW55J3MgbmVlZHNcbjQuIENsb3NlIHdpdGggYSBjbGVhciBjYWxsIHRvIGFjdGlvblxuNS4gTWFpbnRhaW4gYSBwcm9mZXNzaW9uYWwgeWV0IGVuZ2FnaW5nIHRvbmVcbjYuIEJlIGV4YWN0bHkgMTUwIHdvcmRzXG5cblJlc3VtZTogXCIke3Jlc3VtZX1cIlxuSm9iIERlc2NyaXB0aW9uOiBcIiR7am9iRGVzY3JpcHRpb259XCJgO1xuXG4gICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICBtb2RlbDogXCJncHQtNFwiLFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgICAgY29udGVudDogc3lzdGVtUHJvbXB0LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogdXNlclByb21wdCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICB0ZW1wZXJhdHVyZTogMC41LFxuICAgICAgbWF4X3Rva2VuczogMjAwMCxcbiAgICB9KTtcblxuICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcmVzdWx0OiBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50IH0pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcihcIk9wZW5BSSBFcnJvcjpcIiwgZXJyb3IpO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICBlcnJvci5yZXNwb25zZT8uZGF0YT8uZXJyb3I/Lm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIjtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBlcnJvcjogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY29udGVudFwiLFxuICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3BlbkFJIiwiUkFURV9MSU1JVF9XSU5ET1ciLCJNQVhfUkVRVUVTVFNfUEVSX1dJTkRPVyIsInJlcXVlc3RDb3VudHMiLCJNYXAiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiaXAiLCJoZWFkZXJzIiwic29ja2V0IiwicmVtb3RlQWRkcmVzcyIsIm5vdyIsIkRhdGUiLCJ1c2VyUmVxdWVzdHMiLCJnZXQiLCJjb3VudCIsInRpbWVzdGFtcCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNldCIsIm1ldGhvZCIsInByb2Nlc3MiLCJlbnYiLCJPcGVuX0FQSV9LZXkiLCJkZXRhaWxzIiwib3BlbmFpIiwiYXBpS2V5IiwicmVzdW1lIiwiam9iRGVzY3JpcHRpb24iLCJ0eXBlIiwiYm9keSIsImluY2x1ZGVzIiwic3lzdGVtUHJvbXB0IiwidXNlclByb21wdCIsImNvbXBsZXRpb24iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJzZXRIZWFkZXIiLCJyZXN1bHQiLCJjaG9pY2VzIiwibWVzc2FnZSIsImNvbnNvbGUiLCJlcnJvck1lc3NhZ2UiLCJyZXNwb25zZSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/generate.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();